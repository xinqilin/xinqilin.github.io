<!doctype html><html lang=zh-tw><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>sed - Bill.Lin's Notes</title><meta name=description content="技術筆記與開發心得分享"><link rel=stylesheet href=https://xinqilin.github.io/css/style.min.css><link rel=stylesheet href=https://xinqilin.github.io/css/chroma.min.css><link rel=icon type=image/svg+xml href=/images/Bill-coding.svg><link rel=icon type=image/x-icon href=/images/Bill-coding.ico><meta property="og:title" content="sed"><meta property="og:description" content="技術筆記與開發心得分享"><meta property="og:type" content="article"><meta property="og:url" content="https://xinqilin.github.io/post/tools/sed/"></head><body><div class=container><header class=header><nav class=nav><div class=nav-left><a href=https://xinqilin.github.io/ class=nav-title><img src=/images/Bill-coding.svg alt="Site Icon" class=nav-icon>
Bill.Lin's Notes</a></div><div class=nav-center><a href=https://xinqilin.github.io/ class=avatar-link><div class=avatar-container><div class=avatar-ring></div><img src=/images/Bill-coding.svg alt="Bill's Avatar" class=nav-avatar-center></div></a></div><div class=nav-right><ul class=nav-menu><li class=nav-item><a href=https://xinqilin.github.io/ class=nav-link>Me</a></li><li class=nav-item><a href=/posts/ class="nav-link posts">Posts</a></li><li class=nav-item><a href=/categories/ class="nav-link categories">Categories</a></li></ul></div></nav></header><main class=main-content><article class=post><header class=post-header><h1 class=post-title>sed</h1><div class=post-meta><div class=post-info><time class=post-date>2019年01月18日</time>
<span class=post-author>by Bill.Lin</span>
<span class=reading-time>1 分鐘閱讀</span></div><div class=post-categories><a href=/categories/tools class=category-link>Tools</a></div></div></header><div class=post-content><h3 id=sed>sed</h3><p>sed [options] &lsquo;[地址定界] command&rsquo; file(s)
sed -e &lsquo;1,8 s/ [Tt]he/ THE/ g&rsquo; MyFile.txt</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>
</span></span><span class=line><span class=cl>   -n：不輸出模式空間內容到螢幕，即不自動列印，只列印匹配到的行
</span></span><span class=line><span class=cl>   -e：參數指定要執行的編輯指令
</span></span><span class=line><span class=cl>   -f：把Script寫到檔案當中，在執行sed時-f 指定檔案路徑，如果是多個Script，換行寫
</span></span><span class=line><span class=cl>   -r：支援擴充套件的正則表達式
</span></span><span class=line><span class=cl>   -i：直接處理檔案
</span></span><span class=line><span class=cl>   -i.bak：在將處理的結果寫入檔案之前備份一份
</span></span><span class=line><span class=cl>   
</span></span><span class=line><span class=cl>   不給地址：對全文進行處理
</span></span><span class=line><span class=cl>   單地址：
</span></span><span class=line><span class=cl>   #: 指定的行
</span></span><span class=line><span class=cl>   /pattern/：被此處模式所能夠匹配到的每一行
</span></span><span class=line><span class=cl>   地址範圍：
</span></span><span class=line><span class=cl>   #,#
</span></span><span class=line><span class=cl>   #,+#
</span></span><span class=line><span class=cl>   /pat1/,/pat2/
</span></span><span class=line><span class=cl>   #,/pat1/
</span></span><span class=line><span class=cl>   ~：步進
</span></span><span class=line><span class=cl>    sed -n &#39;1~2p&#39;  只列印奇數行 （1~2 從第1行，一次加2行）
</span></span><span class=line><span class=cl>    sed -n &#39;2~2p&#39;  只列印偶數行
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>   d：刪除模式空間匹配的行，並立即啓用下一輪回圈
</span></span><span class=line><span class=cl>   p：列印當前模式空間內容，追加到預設輸出之後
</span></span><span class=line><span class=cl>   a：在指定行後面追加文字，支援使用\n實現多行追加
</span></span><span class=line><span class=cl>   i：在行前面插入文字，支援使用\n實現多行追加
</span></span><span class=line><span class=cl>   c：替換行爲單行或多行文字，支援使用\n實現多行追加
</span></span><span class=line><span class=cl>   w：儲存模式匹配的行至指定檔案
</span></span><span class=line><span class=cl>   r：讀取指定檔案的文字至模式空間中匹配到的行後
</span></span><span class=line><span class=cl>   =：爲模式空間中的行列印行號
</span></span><span class=line><span class=cl>   !：模式空間中匹配行取反處理
</span></span><span class=line><span class=cl>   s///：查詢替換，支援使用其它分隔符，如：s@@@，s###；
</span></span><span class=line><span class=cl>   加g表示行內全域性替換；
</span></span><span class=line><span class=cl>   在替換時，可以加一下命令，實現大小寫轉換
</span></span><span class=line><span class=cl>   \l：把下個字元轉換成小寫。
</span></span><span class=line><span class=cl>   \L：把replacement字母轉換成小寫，直到\U或\E出現。
</span></span><span class=line><span class=cl>   \u：把下個字元轉換成大寫。
</span></span><span class=line><span class=cl>   \U：把replacement字母轉換成大寫，直到\L或\E出現。
</span></span><span class=line><span class=cl>   \E：停止以\L或\U開始的大小寫轉換
</span></span></code></pre></td></tr></table></div></div><h3 id=example>example</h3><p>sed -e &rsquo;s/word1/word2/g&rsquo;</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-zsh data-lang=zsh><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># s/find/replace/g</span>
</span></span><span class=line><span class=cl><span class=c1># s: 5s 只處理第五行, 5,10s 五到十行</span>
</span></span><span class=line><span class=cl><span class=c1># g: 全部, 不打: 只換第一個, 2: 換第二個, gi: ignore case</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>sed -i -e <span class=s1>&#39;s/word1/word2/g&#39;</span> input.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 將所有英文字轉為大寫</span>
</span></span><span class=line><span class=cl>sed -i -e <span class=s1>&#39;s/.*/\U&amp;/&#39;</span> input.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 將所有英文字轉為小寫</span>
</span></span><span class=line><span class=cl>sed -i -e <span class=s1>&#39;s/.*/\L&amp;/&#39;</span> input.txt
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>find . -name <span class=s1>&#39;*.ts&#39;</span> -type f -exec sed -i <span class=s1>&#39;s/pattern\([s]\)/要換的字\1/g&#39;</span> <span class=s1>&#39;{}&#39;</span> <span class=se>\;</span>
</span></span></code></pre></td></tr></table></div></div><p>reference:
<a href=https://tw511.com/a/01/11537.html alt=TW511教學網 target=_blank>TW511教學網</a>
<a href=https://officeguide.cc/linux-sed-find-and-replace-text-in-file-tutorial-examples/ alt=office target=_blank>office</a></p></div></article><nav class=post-nav><div class=post-nav-links><div class=post-nav-prev><span class=post-nav-label>上一篇</span>
<a href=https://xinqilin.github.io/post/architecture/memento/ class=post-nav-link>DesignPattern - Behavioral - Memento</a></div><div class=post-nav-next><span class=post-nav-label>下一篇</span>
<a href=https://xinqilin.github.io/post/backend/mapcompute/ class=post-nav-link>Java Map 計算方法詳解：putIfAbsent、compute、computeIfAbsent 使用指南</a></div></div></nav></main><footer class=footer><div class=footer-content><p>&copy; 2025 Bill Lin. All rights reserved.</p><div class=social-links><a href=https://github.com/xinqilin class=social-link target=_blank rel=noopener>github</a></div></div></footer></div></body></html>