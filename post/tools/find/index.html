<!doctype html><html lang=zh-tw><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Find 命令完整指南：Linux 檔案搜尋與管理的瑞士軍刀 - Bill.Lin's Notes</title><meta name=description content="深入解析 Linux find 命令的完整用法，包含檔案搜尋、條件過濾、批次操作與實戰應用場景"><link rel=stylesheet href=https://xinqilin.github.io/css/style.min.css><link rel=stylesheet href=https://xinqilin.github.io/css/chroma.min.css><link rel=icon type=image/svg+xml href=/images/Bill-coding.svg><link rel=icon type=image/x-icon href=/images/Bill-coding.ico><meta property="og:title" content="Find 命令完整指南：Linux 檔案搜尋與管理的瑞士軍刀"><meta property="og:description" content="深入解析 Linux find 命令的完整用法，包含檔案搜尋、條件過濾、批次操作與實戰應用場景"><meta property="og:type" content="article"><meta property="og:url" content="https://xinqilin.github.io/post/tools/find/"></head><body><div class=container><header class=header><nav class=nav><div class=nav-left><a href=https://xinqilin.github.io/ class=nav-title><img src=/images/Bill-coding.svg alt="Site Icon" class=nav-icon>
Bill.Lin's Notes</a></div><div class=nav-center><a href=https://xinqilin.github.io/ class=avatar-link><div class=avatar-container><div class=avatar-ring></div><img src=/images/Bill-coding.svg alt="Bill's Avatar" class=nav-avatar-center></div></a></div><div class=nav-right><ul class=nav-menu><li class=nav-item><a href=https://xinqilin.github.io/ class=nav-link>Me</a></li><li class=nav-item><a href=/posts/ class="nav-link posts">Posts</a></li><li class=nav-item><a href=/categories/ class="nav-link categories">Categories</a></li><li class=nav-item id=search-container><a href=# id=search-trigger class=nav-link>Search</a>
<input type=text id=search-input placeholder=Search...><div id=search-results-container></div></li></ul></div></nav></header><style>.container{max-width:1100px}#search-container{position:relative}#search-input{position:absolute;top:50%;left:0;transform:translateY(-50%);height:100%;width:0;padding:0;margin:0;opacity:0;visibility:hidden;border:none;border-radius:12px;font-family:inherit;font-size:1em;color:#4a5568;background-color:#fff;outline:none;transition:width .35s ease,opacity .3s ease,padding .35s ease;z-index:10}#search-container.search-active #search-trigger{opacity:0;visibility:hidden}#search-container.search-active #search-input{width:220px;padding:.6rem 1.2rem;opacity:1;visibility:visible;box-shadow:0 4px 20px rgba(0,0,0,.1);border:1px solid #e2e8f0}#search-results-container{display:none;position:absolute;top:calc(100% + 5px);left:0;width:320px;max-height:400px;overflow-y:auto;background-color:#fff;border:1px solid #ddd;border-radius:8px;box-shadow:0 8px 25px rgba(0,0,0,.15);z-index:1001}.search-result-link{display:block;text-decoration:none;color:inherit;padding:12px 15px;border-bottom:1px solid #eee;transition:background-color .2s ease}.search-result-link:hover{background-color:#f8f9fa}.search-result-link:last-child{border-bottom:none}.search-result-title{font-size:1em;font-weight:600;color:#333;margin:0 0 5px}.search-result-link:hover .search-result-title{color:#61c8e0}.search-result-summary{font-size:.9em;color:#666;margin:0;line-height:1.4;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}</style><main class=main-content><article class=post><header class=post-header><h1 class=post-title>Find 命令完整指南：Linux 檔案搜尋與管理的瑞士軍刀</h1><div class=post-meta><div class=post-info><time class=post-date>2022年11月01日</time>
<span class=post-author>by Bill.Lin</span>
<span class=reading-time>11 分鐘閱讀</span></div><div class=post-categories><a href=/categories/tools class=category-link>Tools</a></div></div></header><div class=post-content><h2 id=概述>概述</h2><p><code>find</code> 是 Linux/Unix 系統中最強大且最常用的檔案搜尋命令之一。它不僅能夠根據各種條件搜尋檔案和目錄，還能對搜尋結果執行各種操作，是系統管理員和開發者必備的核心工具。</p><h3 id=核心特徵>核心特徵</h3><ul><li><strong>遞歸搜尋</strong>：可深入子目錄進行搜尋</li><li><strong>多重條件</strong>：支援檔名、類型、大小、時間等多種搜尋條件</li><li><strong>動作執行</strong>：可對搜尋結果執行各種操作</li><li><strong>邏輯組合</strong>：支援 AND、OR、NOT 等邏輯運算</li><li><strong>高效能</strong>：針對大型檔案系統優化</li></ul><h2 id=基本語法>基本語法</h2><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>find <span class=o>[</span>搜尋路徑<span class=o>]</span> <span class=o>[</span>搜尋條件<span class=o>]</span> <span class=o>[</span>動作<span class=o>]</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=基本使用範例>基本使用範例</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 在當前目錄搜尋檔案</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;test.txt&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 在指定目錄搜尋</span>
</span></span><span class=line><span class=cl>find /home/user -name <span class=s2>&#34;*.log&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 忽略大小寫搜尋</span>
</span></span><span class=line><span class=cl>find . -iname <span class=s2>&#34;README.md&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 搜尋多個目錄</span>
</span></span><span class=line><span class=cl>find /var/log /tmp -name <span class=s2>&#34;*.tmp&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=依據檔案名稱搜尋>依據檔案名稱搜尋</h2><h3 id=基本檔名搜尋>基本檔名搜尋</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 精確檔名匹配</span>
</span></span><span class=line><span class=cl>find /home -name <span class=s2>&#34;config.conf&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 萬用字元搜尋</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span>           <span class=c1># 所有 .txt 檔案</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;test*&#34;</span>           <span class=c1># 以 test 開頭的檔案</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*backup*&#34;</span>        <span class=c1># 包含 backup 的檔案</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 忽略大小寫</span>
</span></span><span class=line><span class=cl>find . -iname <span class=s2>&#34;*.PDF&#34;</span>          <span class=c1># 不分大小寫搜尋 PDF 檔案</span>
</span></span><span class=line><span class=cl>find . -iname <span class=s2>&#34;readme*&#34;</span>        <span class=c1># 不分大小寫搜尋 readme 開頭的檔案</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=進階檔名搜尋>進階檔名搜尋</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 使用正規表達式</span>
</span></span><span class=line><span class=cl>find . -regex <span class=s2>&#34;.*\.\(jpg\|png\|gif\)</span>$<span class=s2>&#34;</span>    <span class=c1># 搜尋圖片檔案</span>
</span></span><span class=line><span class=cl>find . -iregex <span class=s2>&#34;.*\.\(mp3\|mp4\|avi\)</span>$<span class=s2>&#34;</span>   <span class=c1># 不分大小寫搜尋媒體檔案</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 排除特定檔案</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> ! -name <span class=s2>&#34;temp*&#34;</span>      <span class=c1># 搜尋 txt 但排除 temp 開頭</span>
</span></span><span class=line><span class=cl>find . ! -name <span class=s2>&#34;.*&#34;</span>                       <span class=c1># 排除隱藏檔案</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 多個條件組合</span>
</span></span><span class=line><span class=cl>find . <span class=se>\(</span> -name <span class=s2>&#34;*.log&#34;</span> -o -name <span class=s2>&#34;*.tmp&#34;</span> <span class=se>\)</span> <span class=c1># OR 條件</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> -a -size +1M         <span class=c1># AND 條件</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=依據檔案類型搜尋>依據檔案類型搜尋</h2><h3 id=基本檔案類型>基本檔案類型</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span><span class=lnt>18
</span><span class=lnt>19
</span><span class=lnt>20
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 檔案類型參數說明</span>
</span></span><span class=line><span class=cl><span class=c1># f: 一般檔案    d: 目錄</span>
</span></span><span class=line><span class=cl><span class=c1># l: 符號連結    p: 命名管道 (FIFO)</span>
</span></span><span class=line><span class=cl><span class=c1># s: socket      b: 區塊裝置</span>
</span></span><span class=line><span class=cl><span class=c1># c: 字元裝置</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 搜尋目錄</span>
</span></span><span class=line><span class=cl>find /var -type d -name <span class=s2>&#34;log*&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 搜尋一般檔案</span>
</span></span><span class=line><span class=cl>find . -type f -name <span class=s2>&#34;*.sh&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 搜尋符號連結</span>
</span></span><span class=line><span class=cl>find /usr/bin -type l
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 搜尋空檔案</span>
</span></span><span class=line><span class=cl>find /tmp -type f -empty
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 搜尋空目錄</span>
</span></span><span class=line><span class=cl>find /home -type d -empty
</span></span></code></pre></td></tr></table></div></div><h3 id=實際應用範例>實際應用範例</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 找出所有 shell 腳本</span>
</span></span><span class=line><span class=cl>find /usr/local/bin -type f -name <span class=s2>&#34;*.sh&#34;</span> -executable
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找出所有損壞的符號連結</span>
</span></span><span class=line><span class=cl>find /usr -type l ! -exec <span class=nb>test</span> -e <span class=o>{}</span> <span class=se>\;</span> -print
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找出包含特定副檔名的目錄</span>
</span></span><span class=line><span class=cl>find . -type d -exec sh -c <span class=s1>&#39;ls &#34;$1&#34;/*.log &gt;/dev/null 2&gt;&amp;1&#39;</span> _ <span class=o>{}</span> <span class=se>\;</span> -print
</span></span></code></pre></td></tr></table></div></div><h2 id=依據檔案大小搜尋>依據檔案大小搜尋</h2><h3 id=基本大小搜尋>基本大小搜尋</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 大小單位說明</span>
</span></span><span class=line><span class=cl><span class=c1># c: bytes     k: KB (1024 bytes)</span>
</span></span><span class=line><span class=cl><span class=c1># M: MB        G: GB</span>
</span></span><span class=line><span class=cl><span class=c1># +: 大於      -: 小於      精確值: 等於</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 基本大小搜尋</span>
</span></span><span class=line><span class=cl>find . -size 50M                    <span class=c1># 等於 50MB</span>
</span></span><span class=line><span class=cl>find . -size +100M                  <span class=c1># 大於 100MB</span>
</span></span><span class=line><span class=cl>find . -size -1G                    <span class=c1># 小於 1GB</span>
</span></span><span class=line><span class=cl>find /var/log -size +10M -size -100M <span class=c1># 10MB 到 100MB 之間</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=進階大小操作>進階大小操作</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 找出最大的檔案（前 10 個）</span>
</span></span><span class=line><span class=cl>find /home -type f -exec ls -la <span class=o>{}</span> <span class=se>\;</span> <span class=p>|</span> sort -k5 -nr <span class=p>|</span> head -10
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找出超過 1GB 的檔案並顯示大小</span>
</span></span><span class=line><span class=cl>find / -size +1G -type f -exec du -h <span class=o>{}</span> <span class=se>\;</span> 2&gt;/dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找出空檔案並刪除</span>
</span></span><span class=line><span class=cl>find /tmp -type f -empty -delete
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找出大檔案並詢問是否刪除</span>
</span></span><span class=line><span class=cl>find /var/log -size +100M -type f -ok rm <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 按大小範圍分類顯示</span>
</span></span><span class=line><span class=cl>find . -type f -size +10M -size -100M -printf <span class=s2>&#34;%s %p\n&#34;</span> <span class=p>|</span> sort -nr
</span></span></code></pre></td></tr></table></div></div><h2 id=依據時間搜尋>依據時間搜尋</h2><h3 id=時間類型說明>時間類型說明</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 時間類型</span>
</span></span><span class=line><span class=cl><span class=c1># mtime: 修改時間 (modify time)</span>
</span></span><span class=line><span class=cl><span class=c1># atime: 存取時間 (access time)  </span>
</span></span><span class=line><span class=cl><span class=c1># ctime: 狀態改變時間 (change time)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 時間單位</span>
</span></span><span class=line><span class=cl><span class=c1># 預設單位: 天 (24小時)</span>
</span></span><span class=line><span class=cl><span class=c1># +n: n天之前</span>
</span></span><span class=line><span class=cl><span class=c1># -n: n天之內</span>
</span></span><span class=line><span class=cl><span class=c1># n:  恰好n天前</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=基本時間搜尋>基本時間搜尋</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 修改時間搜尋</span>
</span></span><span class=line><span class=cl>find . -mtime <span class=m>3</span>                     <span class=c1># 恰好 3 天前修改</span>
</span></span><span class=line><span class=cl>find . -mtime -7                    <span class=c1># 7 天內修改</span>
</span></span><span class=line><span class=cl>find . -mtime +30                   <span class=c1># 30 天前修改</span>
</span></span><span class=line><span class=cl>find . -mtime +7 -mtime -30         <span class=c1># 7-30 天前修改</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 存取時間搜尋</span>
</span></span><span class=line><span class=cl>find /home -atime -1                <span class=c1># 1 天內被存取</span>
</span></span><span class=line><span class=cl>find /tmp -atime +7                 <span class=c1># 7 天以上未被存取</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 狀態改變時間</span>
</span></span><span class=line><span class=cl>find . -ctime -1                    <span class=c1># 1 天內狀態改變</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=精確時間搜尋>精確時間搜尋</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span><span class=lnt>17
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 分鐘為單位的時間搜尋</span>
</span></span><span class=line><span class=cl>find /var/log -mmin -60             <span class=c1># 60 分鐘內修改</span>
</span></span><span class=line><span class=cl>find . -amin +120                   <span class=c1># 120 分鐘前存取</span>
</span></span><span class=line><span class=cl>find /tmp -cmin -30                 <span class=c1># 30 分鐘內狀態改變</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 比較檔案時間</span>
</span></span><span class=line><span class=cl>find . -newer reference.txt         <span class=c1># 比 reference.txt 新的檔案</span>
</span></span><span class=line><span class=cl>find . -cnewer backup.tar           <span class=c1># 狀態比 backup.tar 新</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 指定日期範圍</span>
</span></span><span class=line><span class=cl>find /var/log -newermt <span class=s2>&#34;2023-01-01&#34;</span> ! -newermt <span class=s2>&#34;2023-12-31&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 今天修改的檔案</span>
</span></span><span class=line><span class=cl>find . -daystart -mtime <span class=m>0</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 昨天修改的檔案</span>
</span></span><span class=line><span class=cl>find . -daystart -mtime <span class=m>1</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=依據權限搜尋>依據權限搜尋</h2><h3 id=基本權限搜尋>基本權限搜尋</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 精確權限匹配</span>
</span></span><span class=line><span class=cl>find /home -perm <span class=m>755</span>                <span class=c1># 權限恰好是 755</span>
</span></span><span class=line><span class=cl>find . -perm <span class=m>644</span>                    <span class=c1># 權限恰好是 644</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 包含指定權限</span>
</span></span><span class=line><span class=cl>find /usr/bin -perm -755            <span class=c1># 至少有 755 權限</span>
</span></span><span class=line><span class=cl>find . -perm -u+x                   <span class=c1># 擁有者有執行權限</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 任一符合權限</span>
</span></span><span class=line><span class=cl>find /tmp -perm /222                <span class=c1># 任何人有寫入權限</span>
</span></span><span class=line><span class=cl>find . -perm /u+w,g+w,o+w          <span class=c1># 任何人有寫入權限</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 可執行檔案</span>
</span></span><span class=line><span class=cl>find /usr/local/bin -type f -executable
</span></span><span class=line><span class=cl>find . -type f -perm -u+x           <span class=c1># 擁有者可執行</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=進階權限搜尋>進階權限搜尋</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 找出 SUID 檔案</span>
</span></span><span class=line><span class=cl>find /usr -perm -4000 -type f 2&gt;/dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找出 SGID 檔案</span>
</span></span><span class=line><span class=cl>find /usr -perm -2000 -type f 2&gt;/dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找出 sticky bit 目錄</span>
</span></span><span class=line><span class=cl>find /tmp -perm -1000 -type d
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找出可寫的檔案（安全檢查）</span>
</span></span><span class=line><span class=cl>find /etc -type f -writable 2&gt;/dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找出無權限讀取的檔案</span>
</span></span><span class=line><span class=cl>find /home -type f ! -readable 2&gt;/dev/null
</span></span></code></pre></td></tr></table></div></div><h2 id=依據擁有者搜尋>依據擁有者搜尋</h2><h3 id=基本擁有者搜尋>基本擁有者搜尋</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 依據使用者搜尋</span>
</span></span><span class=line><span class=cl>find /home -user john               <span class=c1># 屬於 john 的檔案</span>
</span></span><span class=line><span class=cl>find /var -user root                <span class=c1># 屬於 root 的檔案</span>
</span></span><span class=line><span class=cl>find . -user <span class=k>$(</span>whoami<span class=k>)</span>              <span class=c1># 屬於當前使用者的檔案</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 依據群組搜尋</span>
</span></span><span class=line><span class=cl>find /home -group developers        <span class=c1># 屬於 developers 群組</span>
</span></span><span class=line><span class=cl>find /var/www -group www-data       <span class=c1># 屬於 www-data 群組</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 依據 UID/GID 搜尋</span>
</span></span><span class=line><span class=cl>find /home -uid <span class=m>1000</span>                <span class=c1># UID 為 1000 的檔案</span>
</span></span><span class=line><span class=cl>find /var -gid <span class=m>100</span>                  <span class=c1># GID 為 100 的檔案</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=進階擁有者搜尋>進階擁有者搜尋</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 找出無主檔案（孤兒檔案）</span>
</span></span><span class=line><span class=cl>find /home -nouser                  <span class=c1># 沒有對應使用者的檔案</span>
</span></span><span class=line><span class=cl>find /var -nogroup                  <span class=c1># 沒有對應群組的檔案</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 組合條件搜尋</span>
</span></span><span class=line><span class=cl>find /home -user john -group staff  <span class=c1># 屬於 john 且群組是 staff</span>
</span></span><span class=line><span class=cl>find /tmp -user root ! -group root  <span class=c1># 屬於 root 但群組不是 root</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找出特定使用者的大檔案</span>
</span></span><span class=line><span class=cl>find /home -user john -size +100M -type f
</span></span></code></pre></td></tr></table></div></div><h2 id=執行動作--exec-和--ok>執行動作 (-exec 和 -ok)</h2><h3 id=基本--exec-用法>基本 -exec 用法</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span><span class=lnt>14
</span><span class=lnt>15
</span><span class=lnt>16
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 基本語法：-exec command {} \;</span>
</span></span><span class=line><span class=cl><span class=c1># {} 代表找到的檔案</span>
</span></span><span class=line><span class=cl><span class=c1># \; 表示命令結束</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 刪除找到的檔案</span>
</span></span><span class=line><span class=cl>find /tmp -name <span class=s2>&#34;*.tmp&#34;</span> -exec rm <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 複製檔案</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> -exec cp <span class=o>{}</span> backup/ <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 移動檔案</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.log&#34;</span> -exec mv <span class=o>{}</span> /var/log/ <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 修改權限</span>
</span></span><span class=line><span class=cl>find /var/www -type f -exec chmod <span class=m>644</span> <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>find /var/www -type d -exec chmod <span class=m>755</span> <span class=o>{}</span> <span class=se>\;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=進階--exec-用法>進階 -exec 用法</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 使用 -exec {} + 提高效能（批次處理）</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> -exec grep <span class=s2>&#34;pattern&#34;</span> <span class=o>{}</span> +
</span></span><span class=line><span class=cl>find /tmp -name <span class=s2>&#34;*.tmp&#34;</span> -exec rm <span class=o>{}</span> +
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 執行複雜命令</span>
</span></span><span class=line><span class=cl>find . -type f -name <span class=s2>&#34;*.sh&#34;</span> -exec sh -c <span class=s1>&#39;echo &#34;Processing: $1&#34;; chmod +x &#34;$1&#34;&#39;</span> _ <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 在找到的目錄中執行命令</span>
</span></span><span class=line><span class=cl>find /var/log -type d -exec sh -c <span class=s1>&#39;echo &#34;Directory: $1&#34;; ls -la &#34;$1&#34;&#39;</span> _ <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 條件執行</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> -exec <span class=nb>test</span> -s <span class=o>{}</span> <span class=se>\;</span> -exec <span class=nb>echo</span> <span class=s2>&#34;Non-empty: {}&#34;</span> <span class=se>\;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=互動式--ok-用法>互動式 -ok 用法</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># -ok 會在執行前詢問確認</span>
</span></span><span class=line><span class=cl>find /tmp -name <span class=s2>&#34;*.old&#34;</span> -ok rm <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 互動式移動檔案</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.bak&#34;</span> -ok mv <span class=o>{}</span> backup/ <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 互動式權限修改</span>
</span></span><span class=line><span class=cl>find /home -name <span class=s2>&#34;*.sh&#34;</span> -ok chmod +x <span class=o>{}</span> <span class=se>\;</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=邏輯運算符>邏輯運算符</h2><h3 id=基本邏輯運算>基本邏輯運算</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># AND 運算（預設）</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> -size +1M      <span class=c1># 名稱是 *.txt 且大小 &gt; 1M</span>
</span></span><span class=line><span class=cl>find . -type f -user john           <span class=c1># 是檔案且屬於 john</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># OR 運算</span>
</span></span><span class=line><span class=cl>find . <span class=se>\(</span> -name <span class=s2>&#34;*.txt&#34;</span> -o -name <span class=s2>&#34;*.md&#34;</span> <span class=se>\)</span>  <span class=c1># txt 或 md 檔案</span>
</span></span><span class=line><span class=cl>find . -type f <span class=se>\(</span> -name <span class=s2>&#34;*.log&#34;</span> -o -name <span class=s2>&#34;*.tmp&#34;</span> <span class=se>\)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># NOT 運算</span>
</span></span><span class=line><span class=cl>find . -type f ! -name <span class=s2>&#34;*.txt&#34;</span>      <span class=c1># 不是 txt 的檔案</span>
</span></span><span class=line><span class=cl>find . ! -path <span class=s2>&#34;*/.*&#34;</span>               <span class=c1># 排除隱藏目錄</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=複雜邏輯組合>複雜邏輯組合</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 複雜條件組合</span>
</span></span><span class=line><span class=cl>find . <span class=se>\(</span> -name <span class=s2>&#34;*.txt&#34;</span> -o -name <span class=s2>&#34;*.md&#34;</span> <span class=se>\)</span> -a -size +1k -a ! -path <span class=s2>&#34;*/tmp/*&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 多重排除條件</span>
</span></span><span class=line><span class=cl>find /var/log <span class=se>\(</span> ! -name <span class=s2>&#34;*.gz&#34;</span> ! -name <span class=s2>&#34;*.old&#34;</span> <span class=se>\)</span> -type f -mtime -7
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 巢狀邏輯條件</span>
</span></span><span class=line><span class=cl>find . <span class=se>\(</span> <span class=se>\(</span> -name <span class=s2>&#34;*.c&#34;</span> -o -name <span class=s2>&#34;*.h&#34;</span> <span class=se>\)</span> -a -mtime -7 <span class=se>\)</span> -o <span class=se>\(</span> -name <span class=s2>&#34;*.py&#34;</span> -a -size +10k <span class=se>\)</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=輸出格式化>輸出格式化</h2><h3 id=使用--printf-格式化輸出>使用 -printf 格式化輸出</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 基本格式化</span>
</span></span><span class=line><span class=cl>find . -type f -printf <span class=s2>&#34;%f\n&#34;</span>                    <span class=c1># 只顯示檔名</span>
</span></span><span class=line><span class=cl>find . -type f -printf <span class=s2>&#34;%p\t%s\n&#34;</span>               <span class=c1># 路徑和大小</span>
</span></span><span class=line><span class=cl>find . -type f -printf <span class=s2>&#34;%M %u %g %s %p\n&#34;</span>       <span class=c1># 權限、擁有者、群組、大小、路徑</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 時間格式化</span>
</span></span><span class=line><span class=cl>find . -type f -printf <span class=s2>&#34;%TY-%Tm-%Td %TH:%TM %p\n&#34;</span>  <span class=c1># 修改時間和路徑</span>
</span></span><span class=line><span class=cl>find . -type f -printf <span class=s2>&#34;%Ac %p\n&#34;</span>                   <span class=c1># 存取時間</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 大小格式化</span>
</span></span><span class=line><span class=cl>find . -type f -printf <span class=s2>&#34;%10s %p\n&#34;</span> <span class=p>|</span> sort -nr       <span class=c1># 按大小排序</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=格式化參數說明>格式化參數說明</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 常用格式化參數</span>
</span></span><span class=line><span class=cl><span class=c1># %p: 檔案路徑</span>
</span></span><span class=line><span class=cl><span class=c1># %f: 檔案名稱</span>
</span></span><span class=line><span class=cl><span class=c1># %s: 檔案大小（bytes）</span>
</span></span><span class=line><span class=cl><span class=c1># %M: 檔案權限</span>
</span></span><span class=line><span class=cl><span class=c1># %u: 擁有者名稱</span>
</span></span><span class=line><span class=cl><span class=c1># %g: 群組名稱</span>
</span></span><span class=line><span class=cl><span class=c1># %T: 時間相關（需配合時間格式）</span>
</span></span><span class=line><span class=cl><span class=c1># %h: 目錄路徑</span>
</span></span><span class=line><span class=cl><span class=c1># %d: 檔案深度</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=實戰應用場景>實戰應用場景</h2><h3 id=系統清理與維護>系統清理與維護</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 清理臨時檔案</span>
</span></span><span class=line><span class=cl>find /tmp -type f -atime +7 -delete                <span class=c1># 刪除 7 天未存取的檔案</span>
</span></span><span class=line><span class=cl>find /var/log -name <span class=s2>&#34;*.log&#34;</span> -size +100M -delete    <span class=c1># 刪除大日誌檔案</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 清理快取檔案</span>
</span></span><span class=line><span class=cl>find ~/.cache -type f -atime +30 -delete           <span class=c1># 清理舊快取</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 備份前清理</span>
</span></span><span class=line><span class=cl>find /backup -name <span class=s2>&#34;*.tar.gz&#34;</span> -mtime +30 -delete   <span class=c1># 刪除 30 天前的備份</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=檔案整理與歸檔>檔案整理與歸檔</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 按日期歸檔檔案</span>
</span></span><span class=line><span class=cl>find /data -type f -name <span class=s2>&#34;*.log&#34;</span> -mtime +1 -exec gzip <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 按大小分類檔案</span>
</span></span><span class=line><span class=cl>find /home -type f -size +1G -exec ls -lh <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 移動舊檔案到歸檔目錄</span>
</span></span><span class=line><span class=cl>find /project -type f -mtime +90 -exec mv <span class=o>{}</span> /archive/ <span class=se>\;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=安全檢查>安全檢查</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 檢查 SUID/SGID 檔案</span>
</span></span><span class=line><span class=cl>find /usr -type f <span class=se>\(</span> -perm -4000 -o -perm -2000 <span class=se>\)</span> -exec ls -l <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 檢查可寫檔案</span>
</span></span><span class=line><span class=cl>find /etc -type f -writable 2&gt;/dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 檢查無主檔案</span>
</span></span><span class=line><span class=cl>find /home -nouser -o -nogroup
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 檢查異常權限</span>
</span></span><span class=line><span class=cl>find /var/www -type f ! -perm <span class=m>644</span> -o -type d ! -perm <span class=m>755</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=開發與除錯>開發與除錯</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 搜尋程式碼</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.java&#34;</span> -exec grep -l <span class=s2>&#34;className&#34;</span> <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找出編譯產生的檔案</span>
</span></span><span class=line><span class=cl>find . <span class=se>\(</span> -name <span class=s2>&#34;*.class&#34;</span> -o -name <span class=s2>&#34;*.o&#34;</span> -o -name <span class=s2>&#34;*.pyc&#34;</span> <span class=se>\)</span> -delete
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 統計不同類型檔案數量</span>
</span></span><span class=line><span class=cl>find . -type f -name <span class=s2>&#34;*.java&#34;</span> <span class=p>|</span> wc -l
</span></span><span class=line><span class=cl>find . -type f -name <span class=s2>&#34;*.py&#34;</span> -exec wc -l <span class=o>{}</span> + <span class=p>|</span> tail -1
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 檢查程式碼行數</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.py&#34;</span> -exec wc -l <span class=o>{}</span> + <span class=p>|</span> sort -nr <span class=p>|</span> head -10
</span></span></code></pre></td></tr></table></div></div><h3 id=監控與分析>監控與分析</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 找出最近修改的檔案</span>
</span></span><span class=line><span class=cl>find /var/log -type f -mmin -60 -exec ls -lt <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 監控檔案系統變化</span>
</span></span><span class=line><span class=cl>find /etc -newer /tmp/baseline -type f
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 分析磁碟使用</span>
</span></span><span class=line><span class=cl>find /home -type f -printf <span class=s2>&#34;%s %p\n&#34;</span> <span class=p>|</span> sort -nr <span class=p>|</span> head -20
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 找出重複檔案（基於大小）</span>
</span></span><span class=line><span class=cl>find /data -type f -printf <span class=s2>&#34;%s %p\n&#34;</span> <span class=p>|</span> sort <span class=p>|</span> uniq -d -w <span class=m>10</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=效能優化技巧>效能優化技巧</h2><h3 id=提升搜尋效能>提升搜尋效能</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span><span class=lnt>12
</span><span class=lnt>13
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 限制搜尋深度</span>
</span></span><span class=line><span class=cl>find /usr -maxdepth <span class=m>3</span> -name <span class=s2>&#34;*.conf&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 排除不必要的目錄</span>
</span></span><span class=line><span class=cl>find / -path /proc -prune -o -path /sys -prune -o -name <span class=s2>&#34;*.txt&#34;</span> -print
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用更具體的路徑</span>
</span></span><span class=line><span class=cl>find /var/log -name <span class=s2>&#34;*.log&#34;</span>    <span class=c1># 好</span>
</span></span><span class=line><span class=cl>find / -name <span class=s2>&#34;*.log&#34;</span>           <span class=c1># 較慢</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 將最具選擇性的條件放在前面</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> -size +1M  <span class=c1># 好</span>
</span></span><span class=line><span class=cl>find . -size +1M -name <span class=s2>&#34;*.txt&#34;</span>  <span class=c1># 也可以，但順序影響效能</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=批次處理優化>批次處理優化</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 使用 {} + 而非 {} \; 提升效能</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> -exec wc -l <span class=o>{}</span> +     <span class=c1># 快</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> -exec wc -l <span class=o>{}</span> <span class=se>\;</span>    <span class=c1># 慢</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用管道處理大量結果</span>
</span></span><span class=line><span class=cl>find /var/log -name <span class=s2>&#34;*.log&#34;</span> -print0 <span class=p>|</span> xargs -0 grep <span class=s2>&#34;ERROR&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 並行處理</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.jpg&#34;</span> -print0 <span class=p>|</span> xargs -0 -P <span class=m>4</span> -I <span class=o>{}</span> convert <span class=o>{}</span> <span class=o>{}</span>.thumb.jpg
</span></span></code></pre></td></tr></table></div></div><h2 id=常見錯誤與解決方案>常見錯誤與解決方案</h2><h3 id=權限錯誤處理>權限錯誤處理</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 忽略權限錯誤</span>
</span></span><span class=line><span class=cl>find /var -name <span class=s2>&#34;*.log&#34;</span> 2&gt;/dev/null
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 只搜尋有權限的目錄</span>
</span></span><span class=line><span class=cl>find /var -readable -name <span class=s2>&#34;*.log&#34;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用 sudo 搜尋受保護的目錄</span>
</span></span><span class=line><span class=cl>sudo find /root -name <span class=s2>&#34;*.conf&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=特殊字元處理>特殊字元處理</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 處理檔名中的空格</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;* *&#34;</span> -print0 <span class=p>|</span> xargs -0 ls -l
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 處理特殊字元</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;file[1-3].txt&#34;</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> -not -name <span class=s2>&#34;*\&amp;*&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=記憶體使用優化>記憶體使用優化</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 避免一次載入過多結果</span>
</span></span><span class=line><span class=cl>find /large_dir -name <span class=s2>&#34;*.txt&#34;</span> <span class=p>|</span> head -100
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用 -quit 在找到第一個結果後停止</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;target.txt&#34;</span> -quit
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 分段處理大目錄</span>
</span></span><span class=line><span class=cl>find /huge_dir -maxdepth <span class=m>1</span> -type d <span class=p>|</span> <span class=k>while</span> <span class=nb>read</span> dir<span class=p>;</span> <span class=k>do</span>
</span></span><span class=line><span class=cl>    find <span class=s2>&#34;</span><span class=nv>$dir</span><span class=s2>&#34;</span> -name <span class=s2>&#34;*.txt&#34;</span>
</span></span><span class=line><span class=cl><span class=k>done</span>
</span></span></code></pre></td></tr></table></div></div><h2 id=與其他工具組合>與其他工具組合</h2><h3 id=與-grep-組合>與 grep 組合</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 在檔案中搜尋內容</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> -exec grep -l <span class=s2>&#34;pattern&#34;</span> <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 搜尋並顯示匹配行</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.log&#34;</span> -exec grep -Hn <span class=s2>&#34;ERROR&#34;</span> <span class=o>{}</span> <span class=se>\;</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 使用 xargs 提升效能</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> <span class=p>|</span> xargs grep <span class=s2>&#34;pattern&#34;</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span> -print0 <span class=p>|</span> xargs -0 grep <span class=s2>&#34;pattern&#34;</span>
</span></span></code></pre></td></tr></table></div></div><h3 id=與-tar-組合>與 tar 組合</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 備份找到的檔案</span>
</span></span><span class=line><span class=cl>find /home -name <span class=s2>&#34;*.doc&#34;</span> -print0 <span class=p>|</span> tar -czf backup.tar.gz --null -T -
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># 歸檔舊檔案</span>
</span></span><span class=line><span class=cl>find /data -mtime +30 -print0 <span class=p>|</span> tar -czf old_files.tar.gz --null -T -
</span></span></code></pre></td></tr></table></div></div><h3 id=與-rsync-組合>與 rsync 組合</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 同步找到的檔案</span>
</span></span><span class=line><span class=cl>find /source -name <span class=s2>&#34;*.txt&#34;</span> -print0 <span class=p>|</span> rsync -av --files-from<span class=o>=</span>- --from0 /source/ /destination/
</span></span></code></pre></td></tr></table></div></div><h2 id=總結>總結</h2><h3 id=核心優勢>核心優勢</h3><ol><li><strong>強大的搜尋能力</strong>：支援多種條件組合搜尋</li><li><strong>批次操作</strong>：可對搜尋結果執行各種動作</li><li><strong>高度可配置</strong>：豐富的參數和選項</li><li><strong>跨平台相容</strong>：在各種 Unix-like 系統中一致</li></ol><h3 id=最佳實踐>最佳實踐</h3><ol><li><strong>明確搜尋範圍</strong>：使用具體的路徑而非根目錄</li><li><strong>合理使用條件</strong>：將最具選擇性的條件放在前面</li><li><strong>善用邏輯運算</strong>：合理組合 AND、OR、NOT 條件</li><li><strong>注意效能</strong>：大目錄搜尋時考慮使用 -maxdepth 限制</li><li><strong>安全操作</strong>：使用 -ok 而非 -exec 進行危險操作</li></ol><h3 id=常用技巧記憶>常用技巧記憶</h3><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl><span class=c1># 日常最常用的模式</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.txt&#34;</span>                    <span class=c1># 基本檔名搜尋</span>
</span></span><span class=line><span class=cl>find . -type f -size +100M              <span class=c1># 大檔案搜尋</span>
</span></span><span class=line><span class=cl>find . -mtime -7                        <span class=c1># 最近修改檔案</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.tmp&#34;</span> -delete            <span class=c1># 清理臨時檔案</span>
</span></span><span class=line><span class=cl>find . -name <span class=s2>&#34;*.sh&#34;</span> -exec chmod +x <span class=o>{}</span> <span class=se>\;</span> <span class=c1># 批次修改權限</span>
</span></span></code></pre></td></tr></table></div></div><p><code>find</code> 命令的強大之處在於其靈活性和可組合性。熟練掌握這個工具，能夠大幅提升 Linux 系統管理和日常工作的效率。記住：實務中最重要的是理解各種條件的組合邏輯，並根據實際需求選擇最適合的搜尋策略。</p><h2 id=參考資料>參考資料</h2><ul><li><a href=https://www.gnu.org/software/findutils/manual/html_mono/find.html>GNU Findutils Manual</a></li><li><a href=https://linux.die.net/man/1/find>Linux man find</a></li><li><a href=https://tldp.org/LDP/abs/html/>Advanced Bash-Scripting Guide</a></li><li><a href=https://www.oreilly.com/library/view/unix-power-tools/0596003307/>Unix Power Tools</a></li></ul></div><footer class=post-footer><div class=post-tags><span class=tags-label>標籤：</span>
<a href=/tags/linux class=tag-link>#Linux</a>
<a href=/tags/find class=tag-link>#Find</a>
<a href=/tags/command-line class=tag-link>#Command Line</a>
<a href=/tags/file-search class=tag-link>#File Search</a>
<a href=/tags/system-administration class=tag-link>#System Administration</a>
<a href=/tags/shell class=tag-link>#Shell</a>
<a href=/tags/unix class=tag-link>#Unix</a></div></footer></article><nav class=post-nav><div class=post-nav-links><div class=post-nav-prev><span class=post-nav-label>上一篇</span>
<a href=https://xinqilin.github.io/post/tools/ubuntu/ class=post-nav-link>Ubuntu 系統管理完整指南：Linux 入門到進階實戰</a></div><div class=post-nav-next><span class=post-nav-label>下一篇</span>
<a href=https://xinqilin.github.io/post/tools/xargs/ class=post-nav-link>Xargs 命令完整指南：Linux 參數處理與並行執行的強大工具</a></div></div></nav><section class=comments-section><h2 class=comments-title>留言討論</h2><div class=giscus></div><script src=https://giscus.app/client.js data-repo=xinqilin/xinqilin.github.io data-repo-id="MDEwOlJlcG9zaXRvcnkzODA3NTYzNzk=" data-category=Announcements data-category-id=DIC_kwDOFrHhm84CtLOY data-mapping=pathname data-strict=0 data-reactions-enabled=1 data-emit-metadata=0 data-input-position=bottom data-theme=light data-lang=zh-TW data-loading=lazy crossorigin=anonymous async></script></section><style>.comments-section{margin-top:4rem;padding-top:2rem;border-top:1px solid #e0e0e0}.comments-title{font-size:1.5rem;margin-bottom:1.5rem;color:#333}.giscus{margin-top:2rem}.giscus-frame{border:none !important}@media(prefers-color-scheme:dark){.comments-section{border-top-color:#333}.comments-title{color:#f0f0f0}}</style></main><footer class=footer><div class=footer-content><p>&copy; 2025 Bill Lin. All rights reserved.</p><div class=social-links><a href=https://github.com/xinqilin class=social-link target=_blank rel=noopener>github</a></div></div></footer><script src=/js/search.js></script></div><script src=/js/code-enhance.js></script></body></html>